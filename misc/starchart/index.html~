<html stopthemadness-user-select="true">
  <head>
    <title>
      &#127775; Libby's Star Chart &#127775; 
    </title>
    <style type="text/css">
      .grid {
      margin: 1em auto;
      border-collapse: collapse;
      }
      
      .grid td {
      cursor: pointer;
      width: 100px;
      height: 100px;
      border: 1px solid #ccc;
      text-align: center;
      font-family: sans-serif;
      font-size: 13px;
      }
      
      .grid td.clicked {
	  font-weight: bold;
	  font-size: 50px;
      }
    </style>
  </head>
  <body>
    <center>
      <h1>
	&#11088; Libby's Super Star Chart of Dissertation Completion Success &#11088;
      </h1>
    </center>
    <script type="text/javascript">
      
      function shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex;
      
        // While there remain elements to shuffle...
        while (0 !== currentIndex) {
      
          // Pick a remaining element...
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex -= 1;
      
          // And swap it with the current element.
          temporaryValue = array[currentIndex];
          array[currentIndex] = array[randomIndex];
          array[randomIndex] = temporaryValue;
        }
      
        return array;
      }
      
      function clickableGrid(rows, cols, callback) {
          var i = 0;
          var grid = document.createElement('table');
          grid.className = 'grid';
	  
	  weekdays = [
	      'Monday',
	      'Tuesday',
	      'Wednesday',
	      'Thursday',
	      'Friday',
	      'Saturday',
	      'Sunday'
	  ];
	  	  
	  var heading = grid.appendChild(document.createElement('tr'));
	  for(var j = 0; j < 7; ++j){
	      var cell = grid.appendChild(document.createElement('th'));
	      cell.innerHTML = weekdays[j]
	  }
	  
          for (var r = 0; r < rows; ++r) {
	      var tr = grid.appendChild(document.createElement('tr'));
	      for (var c = 0; c < cols; ++c) {
		  var cell = tr.appendChild(document.createElement('td'));
		  cell.innerHTML = "";
		  i++;
		  cell.addEventListener('click', (function(el, r, c) {
		      return function() {
			  callback(el, r, c);
		      }
		  })(cell, r, c), false);
	      }
	  }
	  return grid;
      }

      var clicked = sessionStorage.getItem('clicked');
      
      if(clicked) {
	  var grid = sessionStorage.getItem('grid');
      }
      else{
	  var grid = clickableGrid(7, 7, function(el, row, col) {
	      if(el.className == 'clicked'){
  		  el.className = '';
		  el.innerHTML = '';
		  sessionStorage.setItem('grid', grid);
		  sessionStorage.setItem('clicked', 'true');
	      }
	      else{
  		  el.className = 'clicked';
		  el.innerHTML = '&#11088;';
		  sessionStorage.setItem('grid', grid);
		  sessionStorage.setItem('clicked', 'true');
	      }
	  });
      }

      document.body.appendChild(grid);
      
    </script>
  </body>
</html>
